# Emotibit_Biometric_Lib
Biometric library for processing EmotiBit data
## Data Viewer
### Easy Setup
* Setup Anaconda Python
  * See these helpful instructions - https://medium.com/@Shreedharvellay/anaconda-jupyter-spyder-things-you-need-to-know-3c808d824739
    * Briefly:
      * Install Anaconda - https://www.anaconda.com/download/
* Download or clone EmotiBit_Biometric_Lib to your computer
* Open Anaconda Navigator and launch Spyder
* Open Tools>PYTHONPATH manager and Add path to the EmotiBit_Biometric_Lib/py folder
* Optional: Set graphs to open in an interactive window
  * Open Tools>Preferences>IPython console>Graphics>Backend>Automatic
    * [ToDo: insert screenshot]
* Close and re-launch Spyder


The Data Analyzer is tool which can be used for visualizing the data stored on the SD-Card. It can produce a simultaneous view of 18 channel sensor data, which can be viewed interactively. The timeline indicator at the bottom is useful for checking the segment of data currently on the plots.

[comment]: <> (**Note:** Sample data has been provided. You should be able to visualize the data just by clicking `Run` button in spyder.)

**Note:** In the PYTHONPATH manager, add the path to the `emotibit` folder under the `py` folder you just downloaded or cloned. You can find the PYTHONPATH manager under the `python` menu in mac-os.
### Steps to load data
 - Open the `dataviewer_example.py` example under the `py/Examples/dataviewer_example` folder in Spyder.
 - Specify the path to the folder containing the parsed data(The output of the data parser), inside the double quotes of the _variable_ **file_dir0**.
 - Specify the file name in the double quotes of the _variable_ **file_base**. This will be the name of the file(wihout any file extension) generated by the emotibit. Ex: `2019-08-22_17-09-06-681058`.
 - You can provide extra instructions before runtime, to Enable plotting User Notes or DC. To do so, go to <br/>
 `Run->Configuration per file`. 
   - Check the `command line options` check box. In the text box next to the checkbox, enter parameters as shown below: 
     - _parameter1_ value _parameter2_ value
     - The parameters available are **hide_dc** and **usernote_toggle**.
     - Ex: `hide_dc MX,MY,MZ` will prevent plotting of DC markers on the MX, MY and MZ sensor data
     - Ex: `usernote_toggle False` will not display any user notes.
     - Ex: `hide_dc MX,MY,MZ usernote_toggle False` will perform both of the above actions.
     - The tags for which the DC markers should be avoided must be separated by _commas_
     - click on `Ok`
     - Run the file in Spyder.
### The python visualizer has the folowing functions available for use
- You can **zoom** into any part of the plot using the default `zoom button` provided in the spyder. Just press the magnifying glass icon, click and drag anywhere on the plot to zoom in on that portion.
- The `move button` is located next to the `zoom button`. you can press this button and _click and drag_ on any plot to slide through the data. If you press the `x` button or the `y` button simultaneously when moving, the data is moves only in the _x or the y direction_, respectively. 
- You can press the home button to go back to the original view of the data.
- **Keyboard Shortcuts**
  - **_hide/show DC markers_**: The Cutoffs(instances when the sensor data goes out of bounds) in the data, are marked with red verticle lines. You can toggle the visibility of the DC markers in any individual plot by clicking on the plot and presing the `space` key. Pressing it once remoes the DC markers from that plot. Pressing it again will re-mark the lines on the plot.
  - **_Y-Axis Autoscale_**: After you zoom into any portion of the data, the data on each plot can be scaled . by pressing the `a` key. This adjusts the Y-Axis limits for each plot.
  - **_Mark any point in time on the fly_**: Click on the point(any location within the plot) you want to highlihgt, and press `m`. This will highlight a region around that point in time on all plots. This is great way to see the relative position on any activity across plots. Click anywhere on the figure, outside the plots to remove this highlight
